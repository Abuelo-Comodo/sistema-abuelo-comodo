# Security Configuration - Sistema Abuelo Comodo

## RLS Status

### Tables with RLS Enabled
All production tables have Row Level Security (RLS) enabled with permissive policies for:
- `service_role` (Edge Functions)
- `authenticated` (future use)

### Views (Showing "Unrestricted")
Views display "Unrestricted" in Supabase dashboard - this is expected behavior:
- Views don't support RLS directly
- Security is enforced at base table level
- AppSheet uses postgres superuser (bypasses RLS)

### Backup Tables
Historical backup tables remain unrestricted:
- Used for data recovery only
- No API access configured
- Can be deleted after migration confirmed stable

## Access Control Summary

| Connection | RLS Applied? | Notes |
|------------|--------------|-------|
| AppSheet (postgres) | Bypassed | Superuser access |
| Edge Functions (service_role) | Bypassed | Service role access |
| Supabase Dashboard | Bypassed | Admin access |
| REST API (anon) | Yes | Blocked without policy |

## Conclusion
System is secure. Red "Unrestricted" warnings on views are cosmetic, not security risks.
